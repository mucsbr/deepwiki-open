# =============================================================================
# DeepWiki Environment Configuration
# Copy this file to .env and fill in the values
# =============================================================================

# -----------------------------------------------------------------------------
# GitLab OAuth2 SSO (Required)
# -----------------------------------------------------------------------------
# Self-hosted GitLab instance URL
GITLAB_URL=https://gitlab.yourcompany.com
# OAuth Application credentials (Admin > Applications > New Application)
# Redirect URI: http://localhost:3000/auth/callback
# Scopes: read_user, read_api, read_repository
GITLAB_CLIENT_ID=
GITLAB_CLIENT_SECRET=
# JWT signing key (generate with: openssl rand -hex 32)
JWT_SECRET_KEY=

# -----------------------------------------------------------------------------
# GitLab Batch Indexing (Required for pre-vectorization)
# -----------------------------------------------------------------------------
# Service Account PAT with read access to target groups
# (Admin > Service Accounts > Create, then generate PAT with read_api scope)
GITLAB_SERVICE_TOKEN=
# Comma-separated Group IDs to pre-vectorize
GITLAB_BATCH_GROUPS=
# Optional: cron expression for scheduled re-indexing (default: disabled)
# BATCH_INDEX_SCHEDULE=0 2 * * *

# -----------------------------------------------------------------------------
# Permission Cache
# -----------------------------------------------------------------------------
# TTL in seconds for permission cache (default: 300 = 5 minutes)
# PERMISSION_CACHE_TTL=300

# -----------------------------------------------------------------------------
# LLM Provider API Keys (at least one required)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=
GOOGLE_API_KEY=
# OPENROUTER_API_KEY=

# -----------------------------------------------------------------------------
# AWS Bedrock (optional, for Bedrock models)
# -----------------------------------------------------------------------------
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_SESSION_TOKEN=
# AWS_REGION=us-east-1
# AWS_ROLE_ARN=

# -----------------------------------------------------------------------------
# Azure OpenAI (optional)
# -----------------------------------------------------------------------------
# AZURE_OPENAI_API_KEY=
# AZURE_OPENAI_ENDPOINT=
# AZURE_OPENAI_VERSION=

# -----------------------------------------------------------------------------
# Ollama (optional, for local models)
# -----------------------------------------------------------------------------
# OLLAMA_HOST=http://localhost:11434

# -----------------------------------------------------------------------------
# Embedder Configuration
# -----------------------------------------------------------------------------
# Options: openai (default), google, ollama, bedrock
# DEEPWIKI_EMBEDDER_TYPE=openai

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Backend API port
# PORT=8001
# Backend URL for frontend proxy
# SERVER_BASE_URL=http://localhost:8001
# Frontend origin for CORS (used in OAuth callback redirect)
# FRONTEND_ORIGIN=http://localhost:3000
# Custom config directory path
# DEEPWIKI_CONFIG_DIR=api/config/

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# LOG_LEVEL=INFO
# LOG_FILE_PATH=api/logs/application.log
# LOG_MAX_SIZE=10
# LOG_BACKUP_COUNT=5
